---
import {getCollection} from "astro:content";
import Main from "../components/Main.astro";
import H1 from "../components/H1.astro";
import Layout from "../layouts/Layout.astro";
import MovieList from "../components/MovieList.astro";

const movies = await getCollection("movies");
const sortedMovies = movies.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
---
<Layout title="Semanarama | PelÃ­culas">
    <Main>
        <H1 text="PelÃ­culas"/>
        <MovieList movies={sortedMovies}/>
    </Main>
</Layout>